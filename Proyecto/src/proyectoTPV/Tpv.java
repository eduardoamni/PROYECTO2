/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */
package proyectoTPV;

import java.awt.Color;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.sql.SQLException;
import java.text.SimpleDateFormat;
import java.util.ArrayList;
import java.util.Calendar;
import java.util.GregorianCalendar;
import java.util.logging.Level;
import java.util.logging.Logger;
import javax.swing.ComboBoxModel;
import javax.swing.JButton;
import javax.swing.table.DefaultTableModel;

/**
 *
 * @author edu
 */
public class Tpv extends javax.swing.JFrame {

    public class Liste implements ActionListener {

        @Override
        public void actionPerformed(ActionEvent ae) {
            GregorianCalendar c = new GregorianCalendar();
            SimpleDateFormat f = new SimpleDateFormat(" dd/MM/YYYY  HH:mm:ss");
            lblHora.setText(f.format(c.getTime()));
            eliCobrar();
            //System.out.println("C"+ultimoC);
            //System.out.println("P"+ultimoP);
            if(arrayModelos.size()==0){
                btnNCli.setBackground(Color.GREEN);
            }else{
                btnNCli.setBackground(Color.LIGHT_GRAY);
            }
        }
    }

    public class timeMC implements ActionListener {

        @Override
        public void actionPerformed(ActionEvent ae) {

            if (contMC < 1 && ultimoC != false) {
                tempMC.start();
                contMC++;
            } else if (contMC < 1 && ultimoP != false) {
                tempMC.start();
                contMC++;
            } else {
                ultimoC = false;
                ultimoP = false;
                cCero=false;
                contMC = 0;
                tempMC.stop();
                btnMC.setBackground(Color.LIGHT_GRAY);
                btnMP.setBackground(Color.LIGHT_GRAY);
                eliCobrar();
            }
            //System.out.println(contMC);
            //System.out.println(ultimoC);
            //System.out.println(ultimoP);
        }

    }

    /**
     * Creates new form Tpv
     */
    public Tpv() {
        initComponents();
        conexion = JDBC.conectarBD();
        hora = new javax.swing.Timer(10, new Liste());
        hora.start();
        verCamareros();
        arrayModelos.add(new DefaultTableModel(new Object[][]{},
                new String[]{
                    "Cod", "Producto", "Cantidad", "Precio", "Total"
                }));
        jTable1.setModel(arrayModelos.get(0));
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        Personal = new javax.swing.JFrame();
        jPanel1 = new javax.swing.JPanel();
        jPanel4 = new javax.swing.JPanel();
        jLabel4 = new javax.swing.JLabel();
        txfDNI = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        txfNombre = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        txfApellidos = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        cbxCargo = new javax.swing.JComboBox();
        lblNumP = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        btnPatras = new javax.swing.JButton();
        btnPnuevo = new javax.swing.JButton();
        btnPeliminar = new javax.swing.JButton();
        btnPalante = new javax.swing.JButton();
        jPanel5 = new javax.swing.JPanel();
        jLabel1 = new javax.swing.JLabel();
        Operaciones = new javax.swing.JFrame();
        jPanel2 = new javax.swing.JPanel();
        jPanel6 = new javax.swing.JPanel();
        jScrollPane1 = new javax.swing.JScrollPane();
        tableOp = new javax.swing.JTable();
        jPanel7 = new javax.swing.JPanel();
        jLabel8 = new javax.swing.JLabel();
        cbxDia = new javax.swing.JComboBox();
        cbxMes = new javax.swing.JComboBox();
        cbxYear = new javax.swing.JComboBox();
        btnVer = new javax.swing.JButton();
        Opciones = new javax.swing.JFrame();
        jPanel3 = new javax.swing.JPanel();
        Factura = new javax.swing.JFrame();
        jPanel8 = new javax.swing.JPanel();
        jLabel9 = new javax.swing.JLabel();
        lblFac = new javax.swing.JLabel();
        lblTot = new javax.swing.JLabel();
        jLabel13 = new javax.swing.JLabel();
        jScrollPane3 = new javax.swing.JScrollPane();
        tbFact = new javax.swing.JTable();
        lblFecha = new javax.swing.JLabel();
        lblCam = new javax.swing.JLabel();
        btnExit = new javax.swing.JButton();
        jLabel11 = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();
        jPFondo = new javax.swing.JPanel();
        panAlimentos = new javax.swing.JPanel();
        btnRefrescos = new javax.swing.JButton();
        btnLicores = new javax.swing.JButton();
        btnPlatos = new javax.swing.JButton();
        btnTapas = new javax.swing.JButton();
        btnPostres = new javax.swing.JButton();
        btnCafes = new javax.swing.JButton();
        panSubAlimentos = new javax.swing.JPanel();
        panMenu = new javax.swing.JPanel();
        lblHora = new javax.swing.JLabel();
        btnOpciones = new javax.swing.JButton();
        btnOperaciones = new javax.swing.JButton();
        btnMain = new javax.swing.JButton();
        btnPersonal = new javax.swing.JButton();
        btn0 = new javax.swing.JButton();
        btn1 = new javax.swing.JButton();
        btn4 = new javax.swing.JButton();
        btn7 = new javax.swing.JButton();
        btn8 = new javax.swing.JButton();
        btn5 = new javax.swing.JButton();
        btn2 = new javax.swing.JButton();
        btn9 = new javax.swing.JButton();
        btn6 = new javax.swing.JButton();
        btn3 = new javax.swing.JButton();
        btnComa = new javax.swing.JButton();
        btnEl = new javax.swing.JButton();
        btnMC = new javax.swing.JButton();
        btnMP = new javax.swing.JButton();
        btnTicket = new javax.swing.JButton();
        btnCobrar = new javax.swing.JButton();
        panLista = new javax.swing.JPanel();
        lblSTotal = new javax.swing.JLabel();
        lblTotal = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        btnPost = new javax.swing.JButton();
        btnAnt = new javax.swing.JButton();
        btnNCli = new javax.swing.JButton();
        cbxCamarero = new javax.swing.JComboBox();

        Personal.setMinimumSize(new java.awt.Dimension(1280, 734));
        Personal.setUndecorated(true);

        jPanel1.setBackground(new java.awt.Color(83, 77, 59));

        jPanel4.setBackground(new java.awt.Color(36, 29, 29));

        jLabel4.setFont(new java.awt.Font("Calibri", 1, 24)); // NOI18N
        jLabel4.setForeground(new java.awt.Color(204, 204, 204));
        jLabel4.setText("DNI");

        txfDNI.setFont(new java.awt.Font("Calibri", 0, 24)); // NOI18N
        txfDNI.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel2.setFont(new java.awt.Font("Calibri", 1, 24)); // NOI18N
        jLabel2.setForeground(new java.awt.Color(204, 204, 204));
        jLabel2.setText("Nombre");

        txfNombre.setFont(new java.awt.Font("Calibri", 0, 24)); // NOI18N
        txfNombre.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel3.setFont(new java.awt.Font("Calibri", 1, 24)); // NOI18N
        jLabel3.setForeground(new java.awt.Color(204, 204, 204));
        jLabel3.setText("Apellidos");

        txfApellidos.setFont(new java.awt.Font("Calibri", 0, 24)); // NOI18N
        txfApellidos.setHorizontalAlignment(javax.swing.JTextField.RIGHT);

        jLabel5.setFont(new java.awt.Font("Calibri", 1, 24)); // NOI18N
        jLabel5.setForeground(new java.awt.Color(204, 204, 204));
        jLabel5.setText("Cargo");

        cbxCargo.setFont(new java.awt.Font("Calibri", 1, 24)); // NOI18N
        cbxCargo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Camarero", "Cocinero" }));

        lblNumP.setFont(new java.awt.Font("Calibri", 1, 24)); // NOI18N
        lblNumP.setForeground(new java.awt.Color(204, 204, 204));
        lblNumP.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);

        jLabel7.setFont(new java.awt.Font("Calibri", 1, 24)); // NOI18N
        jLabel7.setForeground(new java.awt.Color(204, 204, 204));
        jLabel7.setText("Nº");

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(100, 100, 100)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 222, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(txfApellidos, javax.swing.GroupLayout.PREFERRED_SIZE, 362, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 222, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 222, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(txfDNI, javax.swing.GroupLayout.PREFERRED_SIZE, 362, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(txfNombre, javax.swing.GroupLayout.PREFERRED_SIZE, 362, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 222, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(cbxCargo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 39, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(lblNumP, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txfDNI))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txfNombre))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(txfApellidos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(cbxCargo)
                        .addComponent(lblNumP, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 50, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        btnPatras.setBackground(new java.awt.Color(36, 29, 29));
        btnPatras.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnPatras.setForeground(new java.awt.Color(204, 204, 204));
        btnPatras.setText("<");
        btnPatras.setContentAreaFilled(false);
        btnPatras.setOpaque(true);
        btnPatras.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnPatras.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnPatrasActionPerformed(evt);
            }
        });

        btnPnuevo.setBackground(new java.awt.Color(36, 29, 29));
        btnPnuevo.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnPnuevo.setForeground(new java.awt.Color(204, 204, 204));
        btnPnuevo.setText("Nuevo");
        btnPnuevo.setContentAreaFilled(false);
        btnPnuevo.setOpaque(true);
        btnPnuevo.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });

        btnPeliminar.setBackground(new java.awt.Color(36, 29, 29));
        btnPeliminar.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnPeliminar.setForeground(new java.awt.Color(204, 204, 204));
        btnPeliminar.setText("Eliminar");
        btnPeliminar.setContentAreaFilled(false);
        btnPeliminar.setOpaque(true);
        btnPeliminar.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });

        btnPalante.setBackground(new java.awt.Color(36, 29, 29));
        btnPalante.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnPalante.setForeground(new java.awt.Color(204, 204, 204));
        btnPalante.setText(">");
        btnPalante.setContentAreaFilled(false);
        btnPalante.setOpaque(true);
        btnPalante.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnPalante.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnPalanteActionPerformed(evt);
            }
        });

        jPanel5.setBackground(new java.awt.Color(36, 29, 29));

        jLabel1.setFont(new java.awt.Font("Calibri", 1, 52)); // NOI18N
        jLabel1.setForeground(new java.awt.Color(204, 204, 204));
        jLabel1.setText("Personal");

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addGap(24, 24, 24)
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 222, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(158, Short.MAX_VALUE))
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(77, 77, 77)
                        .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addGap(218, 218, 218)
                        .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                            .addGroup(jPanel1Layout.createSequentialGroup()
                                .addComponent(btnPatras)
                                .addGap(12, 12, 12)
                                .addComponent(btnPnuevo, javax.swing.GroupLayout.PREFERRED_SIZE, 301, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(btnPeliminar, javax.swing.GroupLayout.PREFERRED_SIZE, 362, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(btnPalante))
                            .addComponent(jPanel4, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addContainerGap(300, Short.MAX_VALUE))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(60, 60, 60)
                .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(34, 34, 34)
                .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnPatras)
                    .addComponent(btnPnuevo)
                    .addComponent(btnPeliminar)
                    .addComponent(btnPalante))
                .addContainerGap(250, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout PersonalLayout = new javax.swing.GroupLayout(Personal.getContentPane());
        Personal.getContentPane().setLayout(PersonalLayout);
        PersonalLayout.setHorizontalGroup(
            PersonalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        PersonalLayout.setVerticalGroup(
            PersonalLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel1, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        Operaciones.setMaximumSize(new java.awt.Dimension(1280, 734));
        Operaciones.setMinimumSize(new java.awt.Dimension(1280, 734));
        Operaciones.setUndecorated(true);
        Operaciones.setPreferredSize(new java.awt.Dimension(1280, 734));

        jPanel2.setBackground(new java.awt.Color(83, 77, 59));

        jPanel6.setBackground(new java.awt.Color(36, 29, 29));

        tableOp.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        tableOp.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Codigo de Factura", "Fecha", "Hora", "Camarero", "Precio Total"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        tableOp.setIntercellSpacing(new java.awt.Dimension(2, 2));
        tableOp.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseClicked(java.awt.event.MouseEvent evt) {
                tableOpMouseClicked(evt);
            }
        });
        jScrollPane1.setViewportView(tableOp);

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addContainerGap(19, Short.MAX_VALUE)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 1085, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18))
        );
        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel6Layout.createSequentialGroup()
                .addContainerGap(14, Short.MAX_VALUE)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 408, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(19, 19, 19))
        );

        jPanel7.setBackground(new java.awt.Color(36, 29, 29));

        jLabel8.setFont(new java.awt.Font("Calibri", 1, 52)); // NOI18N
        jLabel8.setForeground(new java.awt.Color(204, 204, 204));
        jLabel8.setText("Operaciones");

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addGap(24, 24, 24)
                .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, 313, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(67, Short.MAX_VALUE))
        );
        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel7Layout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jLabel8, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        cbxDia.setBackground(new java.awt.Color(36, 29, 29));
        cbxDia.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        cbxDia.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", "13", "14", "15", "16", "17", "18", "19", "20", "21", "22", "23", "24", "25", "26", "27", "28", "29", "30", "31" }));

        cbxMes.setBackground(new java.awt.Color(36, 29, 29));
        cbxMes.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        cbxMes.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "01", "02", "03", "04", "05", "06", "07", "08", "09", "10", "11", "12", " " }));

        cbxYear.setBackground(new java.awt.Color(36, 29, 29));
        cbxYear.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        cbxYear.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "2014", "2015", "2016", "2017", "2018", "2019", "2020", "2021", "2022", "2023", "2024", "2025", "2026", "2027", "2028", "2029", "2030", "2031", "2032", "2033", "2034", "2035", "2036", "2037", "2038", "2039", "2040" }));

        btnVer.setBackground(new java.awt.Color(36, 29, 29));
        btnVer.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnVer.setForeground(new java.awt.Color(204, 204, 204));
        btnVer.setText("VER");
        btnVer.setContentAreaFilled(false);
        btnVer.setOpaque(true);
        btnVer.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnVer.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnVerActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(79, 79, 79)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel2Layout.createSequentialGroup()
                        .addComponent(cbxDia, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(cbxMes, javax.swing.GroupLayout.PREFERRED_SIZE, 86, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(cbxYear, javax.swing.GroupLayout.PREFERRED_SIZE, 118, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(btnVer, javax.swing.GroupLayout.PREFERRED_SIZE, 117, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(79, Short.MAX_VALUE))
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addGap(61, 61, 61)
                .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cbxDia, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cbxMes, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cbxYear, javax.swing.GroupLayout.PREFERRED_SIZE, 53, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnVer, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(18, 18, 18)
                .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(66, 66, 66))
        );

        javax.swing.GroupLayout OperacionesLayout = new javax.swing.GroupLayout(Operaciones.getContentPane());
        Operaciones.getContentPane().setLayout(OperacionesLayout);
        OperacionesLayout.setHorizontalGroup(
            OperacionesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        OperacionesLayout.setVerticalGroup(
            OperacionesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        Opciones.setMinimumSize(new java.awt.Dimension(1280, 734));
        Opciones.setUndecorated(true);

        jPanel3.setBackground(new java.awt.Color(83, 77, 59));

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 1280, Short.MAX_VALUE)
        );
        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 734, Short.MAX_VALUE)
        );

        javax.swing.GroupLayout OpcionesLayout = new javax.swing.GroupLayout(Opciones.getContentPane());
        Opciones.getContentPane().setLayout(OpcionesLayout);
        OpcionesLayout.setHorizontalGroup(
            OpcionesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        OpcionesLayout.setVerticalGroup(
            OpcionesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        Factura.setAlwaysOnTop(true);
        Factura.setBackground(new java.awt.Color(83, 77, 59));
        Factura.setBounds(new java.awt.Rectangle(300, 0, 0, 0));
        Factura.setMaximumSize(new java.awt.Dimension(600, 700));
        Factura.setMinimumSize(new java.awt.Dimension(600, 700));
        Factura.setUndecorated(true);
        Factura.setPreferredSize(new java.awt.Dimension(600, 700));
        Factura.setResizable(false);

        jPanel8.setBackground(new java.awt.Color(83, 77, 59));
        jPanel8.setMaximumSize(new java.awt.Dimension(600, 700));
        jPanel8.setMinimumSize(new java.awt.Dimension(600, 700));
        jPanel8.setPreferredSize(new java.awt.Dimension(600, 700));

        jLabel9.setBackground(new java.awt.Color(36, 29, 29));
        jLabel9.setFont(new java.awt.Font("Calibri", 1, 52)); // NOI18N
        jLabel9.setForeground(new java.awt.Color(204, 204, 204));
        jLabel9.setText(" Factura");
        jLabel9.setOpaque(true);

        lblFac.setBackground(new java.awt.Color(36, 29, 29));
        lblFac.setFont(new java.awt.Font("Calibri", 1, 52)); // NOI18N
        lblFac.setForeground(new java.awt.Color(204, 204, 204));
        lblFac.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblFac.setOpaque(true);

        lblTot.setBackground(new java.awt.Color(74, 129, 205));
        lblTot.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        lblTot.setForeground(new java.awt.Color(255, 255, 255));
        lblTot.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        lblTot.setOpaque(true);

        jLabel13.setBackground(new java.awt.Color(74, 129, 205));
        jLabel13.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        jLabel13.setForeground(new java.awt.Color(255, 255, 255));
        jLabel13.setText("  TOTAL");
        jLabel13.setOpaque(true);

        tbFact.setFont(new java.awt.Font("Calibri", 0, 18)); // NOI18N
        tbFact.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {

            },
            new String [] {
                "Cod", "Nombre", "Cantidad", "Precio", "Precio Total"
            }
        ) {
            boolean[] canEdit = new boolean [] {
                false, false, false, false, false
            };

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jScrollPane3.setViewportView(tbFact);

        lblFecha.setBackground(new java.awt.Color(36, 29, 29));
        lblFecha.setFont(new java.awt.Font("Calibri", 0, 25)); // NOI18N
        lblFecha.setForeground(new java.awt.Color(204, 204, 204));
        lblFecha.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblFecha.setOpaque(true);

        lblCam.setBackground(new java.awt.Color(36, 29, 29));
        lblCam.setFont(new java.awt.Font("Calibri", 0, 24)); // NOI18N
        lblCam.setForeground(new java.awt.Color(204, 204, 204));
        lblCam.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        lblCam.setOpaque(true);

        btnExit.setBackground(new java.awt.Color(36, 29, 29));
        btnExit.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnExit.setForeground(new java.awt.Color(204, 204, 204));
        btnExit.setText("X");
        btnExit.setContentAreaFilled(false);
        btnExit.setOpaque(true);
        btnExit.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseEntered(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnExit.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnExitActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 580, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel8Layout.createSequentialGroup()
                        .addComponent(btnExit, javax.swing.GroupLayout.PREFERRED_SIZE, 79, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 262, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(lblTot, javax.swing.GroupLayout.PREFERRED_SIZE, 165, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 201, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(lblFac, javax.swing.GroupLayout.PREFERRED_SIZE, 77, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(lblFecha, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(lblCam, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addContainerGap())
        );
        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel8Layout.createSequentialGroup()
                        .addComponent(lblFecha, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addGap(11, 11, 11)
                        .addComponent(lblCam, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(lblFac, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel9, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane3, javax.swing.GroupLayout.DEFAULT_SIZE, 434, Short.MAX_VALUE)
                .addGap(18, 18, 18)
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(lblTot, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jLabel13, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnExit, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(59, 59, 59))
        );

        javax.swing.GroupLayout FacturaLayout = new javax.swing.GroupLayout(Factura.getContentPane());
        Factura.getContentPane().setLayout(FacturaLayout);
        FacturaLayout.setHorizontalGroup(
            FacturaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(FacturaLayout.createSequentialGroup()
                .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );
        FacturaLayout.setVerticalGroup(
            FacturaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(FacturaLayout.createSequentialGroup()
                .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, Short.MAX_VALUE))
        );

        jLabel11.setBackground(new java.awt.Color(36, 29, 29));
        jLabel11.setFont(new java.awt.Font("Calibri", 1, 52)); // NOI18N
        jLabel11.setForeground(new java.awt.Color(204, 204, 204));
        jLabel11.setOpaque(true);

        jLabel10.setBackground(new java.awt.Color(36, 29, 29));
        jLabel10.setFont(new java.awt.Font("Calibri", 1, 52)); // NOI18N
        jLabel10.setForeground(new java.awt.Color(204, 204, 204));
        jLabel10.setText(" Factura");
        jLabel10.setOpaque(true);

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);
        setMaximumSize(new java.awt.Dimension(1280, 791));
        setMinimumSize(new java.awt.Dimension(1280, 791));
        setUndecorated(true);
        setPreferredSize(new java.awt.Dimension(1280, 791));
        setResizable(false);
        getContentPane().setLayout(null);

        jPFondo.setBackground(new java.awt.Color(83, 77, 59));

        panAlimentos.setOpaque(false);

        btnRefrescos.setBackground(new java.awt.Color(36, 29, 29));
        btnRefrescos.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnRefrescos.setForeground(new java.awt.Color(204, 204, 204));
        btnRefrescos.setText("REFRESCOS");
        btnRefrescos.setContentAreaFilled(false);
        btnRefrescos.setOpaque(true);
        btnRefrescos.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnRefrescos.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseMoved(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
        });
        btnRefrescos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mSub(evt);
            }
        });

        btnLicores.setBackground(new java.awt.Color(36, 29, 29));
        btnLicores.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnLicores.setForeground(new java.awt.Color(204, 204, 204));
        btnLicores.setText("LICORES");
        btnLicores.setContentAreaFilled(false);
        btnLicores.setOpaque(true);
        btnLicores.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnLicores.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseMoved(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
        });
        btnLicores.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mSub(evt);
            }
        });

        btnPlatos.setBackground(new java.awt.Color(36, 29, 29));
        btnPlatos.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnPlatos.setForeground(new java.awt.Color(204, 204, 204));
        btnPlatos.setText("PLATOS");
        btnPlatos.setContentAreaFilled(false);
        btnPlatos.setOpaque(true);
        btnPlatos.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnPlatos.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseMoved(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
        });
        btnPlatos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mSub(evt);
            }
        });

        btnTapas.setBackground(new java.awt.Color(36, 29, 29));
        btnTapas.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnTapas.setForeground(new java.awt.Color(204, 204, 204));
        btnTapas.setText("TAPAS");
        btnTapas.setContentAreaFilled(false);
        btnTapas.setOpaque(true);
        btnTapas.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnTapas.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseMoved(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
        });
        btnTapas.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mSub(evt);
            }
        });

        btnPostres.setBackground(new java.awt.Color(36, 29, 29));
        btnPostres.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnPostres.setForeground(new java.awt.Color(204, 204, 204));
        btnPostres.setText("POSTRES");
        btnPostres.setContentAreaFilled(false);
        btnPostres.setOpaque(true);
        btnPostres.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnPostres.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseMoved(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
        });
        btnPostres.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mSub(evt);
            }
        });

        btnCafes.setBackground(new java.awt.Color(36, 29, 29));
        btnCafes.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnCafes.setForeground(new java.awt.Color(204, 204, 204));
        btnCafes.setText("CAFÉS");
        btnCafes.setContentAreaFilled(false);
        btnCafes.setOpaque(true);
        btnCafes.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnCafes.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseMoved(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
        });
        btnCafes.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mSub(evt);
            }
        });

        javax.swing.GroupLayout panAlimentosLayout = new javax.swing.GroupLayout(panAlimentos);
        panAlimentos.setLayout(panAlimentosLayout);
        panAlimentosLayout.setHorizontalGroup(
            panAlimentosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panAlimentosLayout.createSequentialGroup()
                .addGroup(panAlimentosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panAlimentosLayout.createSequentialGroup()
                        .addComponent(btnRefrescos, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnLicores, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnTapas, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE))
                    .addGroup(panAlimentosLayout.createSequentialGroup()
                        .addComponent(btnPlatos, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnPostres, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btnCafes, javax.swing.GroupLayout.PREFERRED_SIZE, 250, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        panAlimentosLayout.setVerticalGroup(
            panAlimentosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panAlimentosLayout.createSequentialGroup()
                .addGroup(panAlimentosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnRefrescos, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnLicores, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnTapas, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panAlimentosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnPlatos, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnPostres, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnCafes, javax.swing.GroupLayout.PREFERRED_SIZE, 133, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        panSubAlimentos.setOpaque(false);

        javax.swing.GroupLayout panSubAlimentosLayout = new javax.swing.GroupLayout(panSubAlimentos);
        panSubAlimentos.setLayout(panSubAlimentosLayout);
        panSubAlimentosLayout.setHorizontalGroup(
            panSubAlimentosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );
        panSubAlimentosLayout.setVerticalGroup(
            panSubAlimentosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGap(0, 0, Short.MAX_VALUE)
        );

        panMenu.setBackground(new java.awt.Color(36, 29, 29));
        panMenu.setForeground(new java.awt.Color(32, 28, 28));

        lblHora.setFont(new java.awt.Font("Calibri", 1, 18)); // NOI18N
        lblHora.setForeground(new java.awt.Color(204, 204, 204));
        lblHora.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);

        btnOpciones.setBackground(new java.awt.Color(36, 29, 29));
        btnOpciones.setFont(new java.awt.Font("Calibri", 1, 24)); // NOI18N
        btnOpciones.setForeground(new java.awt.Color(204, 204, 204));
        btnOpciones.setText("Opciones");
        btnOpciones.setContentAreaFilled(false);
        btnOpciones.setOpaque(true);
        btnOpciones.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnOpciones.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseMoved(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
        });
        btnOpciones.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnOpcionesActionPerformed(evt);
            }
        });

        btnOperaciones.setBackground(new java.awt.Color(36, 29, 29));
        btnOperaciones.setFont(new java.awt.Font("Calibri", 1, 24)); // NOI18N
        btnOperaciones.setForeground(new java.awt.Color(204, 204, 204));
        btnOperaciones.setText("Operaciones");
        btnOperaciones.setContentAreaFilled(false);
        btnOperaciones.setOpaque(true);
        btnOperaciones.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnOperaciones.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseMoved(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
        });
        btnOperaciones.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnOperacionesActionPerformed(evt);
            }
        });

        btnMain.setBackground(new java.awt.Color(74, 129, 205));
        btnMain.setFont(new java.awt.Font("Calibri", 1, 18)); // NOI18N
        btnMain.setForeground(new java.awt.Color(204, 204, 204));
        btnMain.setContentAreaFilled(false);
        btnMain.setOpaque(true);
        btnMain.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnMainActionPerformed(evt);
            }
        });

        btnPersonal.setBackground(new java.awt.Color(36, 29, 29));
        btnPersonal.setFont(new java.awt.Font("Calibri", 1, 24)); // NOI18N
        btnPersonal.setForeground(new java.awt.Color(204, 204, 204));
        btnPersonal.setText("Personal");
        btnPersonal.setContentAreaFilled(false);
        btnPersonal.setOpaque(true);
        btnPersonal.addMouseListener(new java.awt.event.MouseAdapter() {
            public void mouseExited(java.awt.event.MouseEvent evt) {
                fondoNormal(evt);
            }
        });
        btnPersonal.addMouseMotionListener(new java.awt.event.MouseMotionAdapter() {
            public void mouseMoved(java.awt.event.MouseEvent evt) {
                fondoAzul(evt);
            }
        });
        btnPersonal.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnPersonalActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout panMenuLayout = new javax.swing.GroupLayout(panMenu);
        panMenu.setLayout(panMenuLayout);
        panMenuLayout.setHorizontalGroup(
            panMenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panMenuLayout.createSequentialGroup()
                .addComponent(btnMain, javax.swing.GroupLayout.PREFERRED_SIZE, 54, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(86, 86, 86)
                .addComponent(btnOpciones, javax.swing.GroupLayout.PREFERRED_SIZE, 242, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(44, 44, 44)
                .addComponent(btnOperaciones, javax.swing.GroupLayout.PREFERRED_SIZE, 216, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(42, 42, 42)
                .addComponent(btnPersonal, javax.swing.GroupLayout.PREFERRED_SIZE, 221, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(lblHora, javax.swing.GroupLayout.PREFERRED_SIZE, 327, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        panMenuLayout.setVerticalGroup(
            panMenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(btnMain, javax.swing.GroupLayout.DEFAULT_SIZE, 67, Short.MAX_VALUE)
            .addComponent(lblHora, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
            .addGroup(panMenuLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                .addComponent(btnOpciones, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 61, Short.MAX_VALUE)
                .addComponent(btnOperaciones, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(btnPersonal, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        btn0.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btn0.setText("0");
        btn0.setFocusPainted(false);
        btn0.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                numero(evt);
            }
        });

        btn1.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btn1.setText("1");
        btn1.setFocusPainted(false);
        btn1.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                numero(evt);
            }
        });

        btn4.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btn4.setText("4");
        btn4.setFocusPainted(false);
        btn4.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                numero(evt);
            }
        });

        btn7.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btn7.setText("7");
        btn7.setFocusPainted(false);
        btn7.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                numero(evt);
            }
        });

        btn8.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btn8.setText("8");
        btn8.setFocusPainted(false);
        btn8.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                numero(evt);
            }
        });

        btn5.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btn5.setText("5");
        btn5.setFocusPainted(false);
        btn5.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                numero(evt);
            }
        });

        btn2.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btn2.setText("2");
        btn2.setFocusPainted(false);
        btn2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                numero(evt);
            }
        });

        btn9.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btn9.setText("9");
        btn9.setFocusPainted(false);
        btn9.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                numero(evt);
            }
        });

        btn6.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btn6.setText("6");
        btn6.setFocusPainted(false);
        btn6.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                numero(evt);
            }
        });

        btn3.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btn3.setText("3");
        btn3.setFocusPainted(false);
        btn3.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                numero(evt);
            }
        });

        btnComa.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnComa.setText(".");
        btnComa.setFocusPainted(false);
        btnComa.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                numero(evt);
            }
        });

        btnEl.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnEl.setForeground(new java.awt.Color(255, 0, 0));
        btnEl.setText("X");
        btnEl.setFocusPainted(false);
        btnEl.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                eliminar(evt);
            }
        });

        btnMC.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnMC.setText("MC");
        btnMC.setFocusPainted(false);
        btnMC.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnMCActionPerformed(evt);
            }
        });

        btnMP.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnMP.setText("MP");
        btnMP.setFocusPainted(false);
        btnMP.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnMPActionPerformed(evt);
            }
        });

        btnTicket.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnTicket.setText("Tck");
        btnTicket.setFocusPainted(false);
        btnTicket.setHorizontalTextPosition(javax.swing.SwingConstants.LEADING);
        btnTicket.setVerticalTextPosition(javax.swing.SwingConstants.TOP);
        btnTicket.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnTicketActionPerformed(evt);
            }
        });

        btnCobrar.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        btnCobrar.setForeground(new java.awt.Color(0, 102, 0));
        btnCobrar.setText("Cobrar");
        btnCobrar.setFocusPainted(false);
        btnCobrar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCobrarActionPerformed(evt);
            }
        });

        panLista.setBackground(new java.awt.Color(95, 84, 50));
        panLista.setAlignmentX(0.0F);
        panLista.setAlignmentY(0.0F);
        panLista.setPreferredSize(new java.awt.Dimension(240, 351));

        lblSTotal.setBackground(new java.awt.Color(74, 129, 205));
        lblSTotal.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        lblSTotal.setForeground(new java.awt.Color(255, 255, 255));
        lblSTotal.setText(" TOTAL");
        lblSTotal.setToolTipText("");
        lblSTotal.setHorizontalTextPosition(javax.swing.SwingConstants.LEFT);
        lblSTotal.setOpaque(true);

        lblTotal.setBackground(new java.awt.Color(74, 129, 205));
        lblTotal.setFont(new java.awt.Font("Calibri", 1, 36)); // NOI18N
        lblTotal.setForeground(new java.awt.Color(255, 255, 255));
        lblTotal.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        lblTotal.setText("0.0 €");
        lblTotal.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        lblTotal.setOpaque(true);

        jTable1.setModel(new javax.swing.table.DefaultTableModel(
            new Object [][] {
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null},
                {null, null, null, null}
            },
            new String [] {
                "Cod", "Producto", "Cantidad", "Total"
            }
        ) {
            Class[] types = new Class [] {
                java.lang.Integer.class, java.lang.String.class, java.lang.Integer.class, java.lang.Integer.class
            };
            boolean[] canEdit = new boolean [] {
                false, false, false, false
            };

            public Class getColumnClass(int columnIndex) {
                return types [columnIndex];
            }

            public boolean isCellEditable(int rowIndex, int columnIndex) {
                return canEdit [columnIndex];
            }
        });
        jTable1.setSelectionBackground(new java.awt.Color(74, 129, 205));
        jScrollPane2.setViewportView(jTable1);

        javax.swing.GroupLayout panListaLayout = new javax.swing.GroupLayout(panLista);
        panLista.setLayout(panListaLayout);
        panListaLayout.setHorizontalGroup(
            panListaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
            .addComponent(jScrollPane2)
            .addGroup(panListaLayout.createSequentialGroup()
                .addComponent(lblSTotal, javax.swing.GroupLayout.PREFERRED_SIZE, 160, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(lblTotal, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        panListaLayout.setVerticalGroup(
            panListaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panListaLayout.createSequentialGroup()
                .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 254, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panListaLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(lblSTotal, javax.swing.GroupLayout.DEFAULT_SIZE, 90, Short.MAX_VALUE)
                    .addComponent(lblTotal, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        btnPost.setFont(new java.awt.Font("Calibri", 1, 18)); // NOI18N
        btnPost.setText(">");
        btnPost.setFocusPainted(false);
        btnPost.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAlante(evt);
            }
        });

        btnAnt.setFont(new java.awt.Font("Calibri", 1, 18)); // NOI18N
        btnAnt.setText("<");
        btnAnt.setFocusPainted(false);
        btnAnt.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                mAtras(evt);
            }
        });

        btnNCli.setFont(new java.awt.Font("Calibri", 1, 18)); // NOI18N
        btnNCli.setText("NUEVO CLIENTE");
        btnNCli.setFocusPainted(false);
        btnNCli.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                adCli(evt);
            }
        });

        cbxCamarero.setFont(new java.awt.Font("Calibri", 1, 18)); // NOI18N

        javax.swing.GroupLayout jPFondoLayout = new javax.swing.GroupLayout(jPFondo);
        jPFondo.setLayout(jPFondoLayout);
        jPFondoLayout.setHorizontalGroup(
            jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPFondoLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(panSubAlimentos, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(panAlimentos, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addGap(10, 10, 10)
                .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPFondoLayout.createSequentialGroup()
                        .addComponent(cbxCamarero, javax.swing.GroupLayout.PREFERRED_SIZE, 155, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnNCli, javax.swing.GroupLayout.PREFERRED_SIZE, 194, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(btnAnt, javax.swing.GroupLayout.PREFERRED_SIZE, 59, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(btnPost, javax.swing.GroupLayout.PREFERRED_SIZE, 51, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                        .addComponent(panLista, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 485, Short.MAX_VALUE)
                        .addGroup(jPFondoLayout.createSequentialGroup()
                            .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addGroup(jPFondoLayout.createSequentialGroup()
                                    .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(btn1, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(btn4, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(btn7, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(btn2, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(btn5, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(btn8, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)))
                                .addComponent(btn0, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                .addComponent(btnComa, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(btn3, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(btn6, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(btn9, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                            .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                                .addComponent(btnCobrar, javax.swing.GroupLayout.PREFERRED_SIZE, 206, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGroup(jPFondoLayout.createSequentialGroup()
                                    .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(btnMP, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(btnMC, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(btnEl, javax.swing.GroupLayout.PREFERRED_SIZE, 87, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                    .addComponent(btnTicket, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addComponent(panMenu, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        jPFondoLayout.setVerticalGroup(
            jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPFondoLayout.createSequentialGroup()
                .addGap(11, 11, 11)
                .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(jPFondoLayout.createSequentialGroup()
                        .addComponent(panAlimentos, javax.swing.GroupLayout.PREFERRED_SIZE, 276, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(panSubAlimentos, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                    .addGroup(jPFondoLayout.createSequentialGroup()
                        .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(btnPost, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(btnAnt, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(btnNCli, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                            .addComponent(cbxCamarero))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(panLista, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                            .addGroup(jPFondoLayout.createSequentialGroup()
                                .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(btn7, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(btn9, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(btn8, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addComponent(btnEl, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addComponent(btn4, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                        .addComponent(btn6, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(btn5, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE))
                                    .addComponent(btnMC, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE))
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                                    .addComponent(btn1, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                                    .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                        .addComponent(btn3, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(btn2, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addComponent(btnMP, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE))))
                            .addComponent(btnTicket, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(btn0, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addGroup(jPFondoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(btnComa, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(btnCobrar, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)))))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(panMenu, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        getContentPane().add(jPFondo);
        jPFondo.setBounds(0, 0, 1280, 791);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void verCamareros() {
        st = JDBC.crearSentencia(conexion);
        rs = JDBC.crearResultado(st, "SELECT nombre_c FROM Personal WHERE cargo='camarero';");
        try {
            while (rs.next()) {
                cbxCamarero.addItem(rs.getString("nombre_c"));
            }
        } catch (SQLException ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        }
    }

    private void fondoAzul(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_fondoAzul
        JButton boton = (JButton) evt.getSource();
        boton.setBackground(new java.awt.Color(74, 129, 205));
    }//GEN-LAST:event_fondoAzul

    private void fondoNormal(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_fondoNormal
        JButton boton = (JButton) evt.getSource();
        boton.setBackground(new java.awt.Color(36, 29, 29));
    }//GEN-LAST:event_fondoNormal

    private void mSub(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mSub

        panSubAlimentos.removeAll();
        panSubAlimentos.setVisible(false);
        panSubAlimentos.setVisible(true);

        JButton boton = (JButton) evt.getSource();
        String tipo;
        switch (boton.getText().toLowerCase()) {
            case "refrescos":
                tipo = "refrescos";
                break;
            case "licores":
                tipo = "licores";
                break;
            case "tapas":
                tipo = "tapas";
                break;
            case "platos":
                tipo = "platos";
                break;
            case "postres":
                tipo = "postres";
                break;
            case "cafés":
                tipo = "cafes";
                break;
            default:
                tipo = "";
                break;
        }
        st = JDBC.crearSentencia(conexion);

        //COUNT PARA CREAR LOS BOTONES
        String c = "SELECT COUNT (*) AS count FROM Producto WHERE tipo = '" + tipo + "';";
        rs = JDBC.crearResultado(st, c);

        try {
            if (rs.next()) {
                count = rs.getInt("count");
            }
        } catch (SQLException ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        }

        btnSMnu = new javax.swing.JButton[count];
        aProd = new Productos[count];
        int dBotones = 0;
        String q = "SELECT * FROM Producto WHERE tipo = '" + tipo + "';";
        rs = JDBC.crearResultado(st, q);
        int h = 0;
        int hB = 0;
        try {
            while (rs.next()) {
                //añade fila
                if (hB == 6) {
                    h += 120 + 8;
                    hB = 0;
                }
                btnSMnu[dBotones] = new javax.swing.JButton();
                panSubAlimentos.add(btnSMnu[dBotones]);
                btnSMnu[dBotones].setBounds(120 * hB + 8 * hB, h, 120, 120);
                btnSMnu[dBotones].setText(rs.getString("nombre"));
                btnSMnu[dBotones].setBackground(new java.awt.Color(36, 29, 29));
                btnSMnu[dBotones].setContentAreaFilled(false);
                btnSMnu[dBotones].setOpaque(true);

                //construimos los objetos productos
                aProd[dBotones] = new Productos(rs.getInt("codigo"), btnSMnu[dBotones].getText(), rs.getString("tipo"), rs.getInt("cantidad"), rs.getDouble("precio"));
                //EVENTO
                btnSMnu[dBotones].addActionListener(new java.awt.event.ActionListener() {
                    public void actionPerformed(java.awt.event.ActionEvent evt) {
                        evtBoton(evt);
                    }
                });

                //System.out.println(hB + "" + dBotones);
                hB++;
                dBotones++;
            }
            rs.close();
        } catch (SQLException ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_mSub

    private void evtBoton(java.awt.event.ActionEvent evt) {

        m = (DefaultTableModel) jTable1.getModel();

        addM1P = true;
        javax.swing.JButton botonPulsado = (javax.swing.JButton) evt.getSource();
        for (int i = 0; i < count; i++) {
            if (botonPulsado.equals(btnSMnu[i])) {
                //coger nombre en el modelo
                for (int n = 0; n < m.getRowCount(); n++) {
                    String nombre = m.getValueAt(n, 1).toString();
                    cant = (Integer) Integer.parseInt(m.getValueAt(n, 2).toString());

                    //System.out.println(cant);
                    if (aProd[i].getNombre().equals(nombre)) {
                        cant += 1;
                        m.setValueAt(cant, n, 2);
                        m.setValueAt((Double) Double.parseDouble(m.getValueAt(n, 3).toString()) * cant, n, 4);
                        addM1P = false;
                        verTotal();

                    }
                }
                if (addM1P) {
                    m.addRow(new Object[]{
                        aProd[i].getCod(), aProd[i].getNombre(), cantidad, (aProd[i].getPrecio()), aProd[i].getPrecio() * cantidad}
                    );
                }
            }
        }
        verTotal();
    }

    private void verTotal() {
        double total = 0;
        double subtotal = 0;
        
        for (int i = 0; i < m.getRowCount(); i++) {
            subtotal = Double.parseDouble(m.getValueAt(i, 4).toString());
            total = total + subtotal;
        }
        lblTotal.setText(total + " €");
        if(total == 0){
             lblTotal.setText("0.0 €");
        }
    }


    private void adCli(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_adCli
        int ultPos = arrayModelos.size();
        arrayModelos.add(new DefaultTableModel(new Object[][]{},
                new String[]{
                    "Cod", "Producto", "Cantidad", "Precio", "Total"
                }));

        jTable1.setModel(arrayModelos.get(ultPos));
        lblTotal.setText("0.0 €");
        //System.out.println(arrayModelos.size()+""+ultPos);
    }//GEN-LAST:event_adCli

    private void mAtras(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mAtras
        int am = arrayModelos.size();
        for (int i = 0; i < am; i++) {
            try {
                if (jTable1.getModel().equals(arrayModelos.get(i))) {
                    jTable1.setModel(arrayModelos.get(i - 1));

                    m = (DefaultTableModel) jTable1.getModel();
                    verTotal();
                }
            } catch (Exception e) {
            }
        }

    }//GEN-LAST:event_mAtras

    private void mAlante(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_mAlante
        int am = arrayModelos.size();
        int x=0;
        for (int i = 0; i < am; i++) {
            try {
                if (jTable1.getModel().equals(arrayModelos.get(i))) {
                    x=i;
                    
                    //System.out.println(x);
                }
            } catch (Exception e) {
            }
        }
        try{
        jTable1.setModel(arrayModelos.get(x + 1));
        m = (DefaultTableModel) jTable1.getModel();
                    verTotal();
        }catch (Exception e){
        
        }
     }//GEN-LAST:event_mAlante

    private void btnMCActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnMCActionPerformed
        if (ultimoC == false && ultimoP == false) {
            btnMC.setBackground(Color.green);
            ultimoC = true;
            tempoMC();
            valor = "";
           
        }
    }//GEN-LAST:event_btnMCActionPerformed

    private void tempoMC() {
        tempMC = new javax.swing.Timer(1000, new timeMC());
        tempMC.start();
    }

    private void numero(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_numero
        JButton boton = (JButton) evt.getSource();

        if(jTable1.getSelectedRow()!=-1){
        if (ultimoC) {
            
            if(boton.getText().equals("0") && cCero==false){
        valor = "";
        }else if(boton.getText().equals(".")){}else{
        valor = valor + boton.getText();
        
                cCero=true;
            }
            contMC=0;
            try {
                double total = (Double) Double.parseDouble(jTable1.getModel().getValueAt(jTable1.getSelectedRow(), 3).toString()) * ((Double) Double.parseDouble(valor));
                total = (Math.round(total*100));
                total = total / 100;
                jTable1.getModel().setValueAt(valor, jTable1.getSelectedRow(), 2);
                jTable1.getModel().setValueAt(total, jTable1.getSelectedRow(), 4);
                
                m = (DefaultTableModel) jTable1.getModel();
                verTotal();

            } catch (Exception ex) {
            }
        } 
        
        else if (ultimoP) {
            
            if(boton.getText().equals(".")){
               String valor1 = jTable1.getModel().getValueAt(jTable1.getSelectedRow(), 3).toString();
                if(valor1.contains(".")==false && !valor1.equals("")){
                    valor = valor + ".";
                }
            }else if(boton.getText().equals("0") && valor.equals("0")){
        valor = "0";
            }else{
            
        valor = valor + boton.getText();
            contMC=0;

                double total = (Double)Double.parseDouble(jTable1.getModel().getValueAt(jTable1.getSelectedRow(), 2).toString()) * ((Double) Double.parseDouble(valor));
                total = (Math.round(total*100));
                total = total / 100;
                jTable1.getModel().setValueAt(valor, jTable1.getSelectedRow(), 3);
                jTable1.getModel().setValueAt(total, jTable1.getSelectedRow(), 4);

                m = (DefaultTableModel) jTable1.getModel();
                verTotal();

           
            }
        }}
    }//GEN-LAST:event_numero

    private void btnMPActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnMPActionPerformed
        if (ultimoP == false) {
            btnMP.setBackground(Color.green);
            ultimoP = true;
            tempoMC();
            valor = "";
             jTable1.getModel().setValueAt("", jTable1.getSelectedRow(), 3);
        }
    }//GEN-LAST:event_btnMPActionPerformed

    private void eliminar(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_eliminar
        try{((DefaultTableModel)jTable1.getModel()).removeRow(jTable1.getSelectedRow());
         m = (DefaultTableModel) jTable1.getModel();
         verTotal();
        }catch (Exception ex){}
    }//GEN-LAST:event_eliminar

    private void btnTicketActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnTicketActionPerformed
        javax.swing.table.DefaultTableModel m = (javax.swing.table.DefaultTableModel)jTable1.getModel();
        double totales=0.00;
        System.out.println("===============================================");
        System.out.println("                Le ha atendido   ");
        System.out.println("                "+cbxCamarero.getModel().getSelectedItem().toString());
        System.out.println("=============================================== \n\n");
        
        
        System.out.printf("%-20s %4s %9s %10s" ,"Producto","U ","P/U ","   TOTAL   \n");
        System.out.printf("%-20S %4s %9s %10s" ,"===================","===","========","  ========\n");
        for(int f =0; f<m.getRowCount(); f++){
            for(int c = 1; c<m.getColumnCount(); c ++){
                if(c==1){
                System.out.printf("%-20s", m.getValueAt(f, c));
                }else if(c==2){
                System.out.printf("%4s", m.getValueAt(f, c).toString());
                }else if(c==3){
                   double d = Double.parseDouble(m.getValueAt(f, c).toString());
                    System.out.printf("%10.2f", d);
                }else{
                     System.out.printf("%10.2f", m.getValueAt(f, c));
                     totales +=  Double.parseDouble(m.getValueAt(f, c).toString());
                }
            }
            System.out.println("\n");            
        }
        System.out.println("                              ----------------");
        System.out.printf("%-20s %2s %9s %10.2f € \n" ,"","","TOTAL", totales);
        System.out.println("===============================================");
    }//GEN-LAST:event_btnTicketActionPerformed

    private void btnCobrarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCobrarActionPerformed
        DefaultTableModel mActu =(DefaultTableModel)jTable1.getModel();
        try{
        for(DefaultTableModel m : arrayModelos){
            if(m.equals(mActu)){
                 if(lblTotal.getText().equals("0.0 €")){
                    arrayModelos.remove(m);
                }else{
                ///TOCHACO PA VOLVERSE LOCO
                
                    crearFactura();
                    crearOperacionesF();
                ///FIN DE TOCHACO
                
                arrayModelos.remove(m);
            }
        }}
        }catch(Exception ex){
        }
        
        try{
        jTable1.setModel(arrayModelos.get(0));
        
        m = (DefaultTableModel) jTable1.getModel();
        verTotal();
        
        }catch(Exception ex){
            try {
            borrarFilas();
            verTotal();
            }catch(Exception exx){}
            
        }
    }//GEN-LAST:event_btnCobrarActionPerformed

    private void btnPersonalActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnPersonalActionPerformed
        try {
            Personal.setVisible(true);
            String q = "SELECT * FROM Personal";
            java.sql.Statement stF = JDBC.crearSentenciaF(conexion, false);
            rsP = JDBC.crearResultado(stF, q);
            rsP.next();
            escribirP();
        } catch (SQLException ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        } catch (Exception ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        }
              
    }//GEN-LAST:event_btnPersonalActionPerformed

    private void escribirP() throws Exception{
        txfDNI.setText(rsP.getString("dni_c"));
        txfNombre.setText(rsP.getString("nombre_c"));
        txfApellidos.setText(rsP.getString("apellidos_c"));
        
        //cbxCargo.getModel().setSelectedItem(m);
        lblNumP.setText(rsP.getString(1));
    }
      
    private void btnOperacionesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnOperacionesActionPerformed
       Operaciones.setVisible(true);
    }//GEN-LAST:event_btnOperacionesActionPerformed

    private void btnOpcionesActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnOpcionesActionPerformed
       Opciones.setVisible(true);
    }//GEN-LAST:event_btnOpcionesActionPerformed

    private void btnMainActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnMainActionPerformed
       Opciones.setVisible(false);
       Operaciones.setVisible(false);
       Personal.setVisible(false);
    }//GEN-LAST:event_btnMainActionPerformed

    private void btnPatrasActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnPatrasActionPerformed
        try {
           if(rsP.previous()){
            escribirP();
            }else{
                rsP.next();
            }
        } catch (SQLException ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        } catch (Exception ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_btnPatrasActionPerformed

    private void btnPalanteActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnPalanteActionPerformed
        try {
            if(rsP.next()){
            escribirP();
            }else{
                rsP.previous();
            }
        } catch (Exception ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_btnPalanteActionPerformed

    private void tableOpMouseClicked(java.awt.event.MouseEvent evt) {//GEN-FIRST:event_tableOpMouseClicked
        try {
            int fila = (tableOp.getSelectedRow());
            int numeroF = Integer.parseInt(tableOp.getModel().getValueAt(fila, 0).toString());
            String fecha = tableOp.getModel().getValueAt(fila, 1)+" "+tableOp.getModel().getValueAt(fila, 2);
            String camarero = tableOp.getModel().getValueAt(fila, 3).toString();
            String total = tableOp.getModel().getValueAt(fila, 4).toString();
            
            lblTot.setText(total+" ");
            lblFac.setText(numeroF+"");
            lblFecha.setText(fecha);
            lblCam.setText(camarero);
            
            String q = "SELECT * FROM operacion WHERE c_factura = "+numeroF+";";
            //System.out.println(q);
            java.sql.ResultSet rs = JDBC.crearResultado(st, q);
            Factura.setVisible(true);
            javax.swing.table.DefaultTableModel dtm = (javax.swing.table.DefaultTableModel)tbFact.getModel();
            dtm.setRowCount(0);
            tbFact.setRowHeight(30);
            while (rs.next()){
                String [] facturaS =  {rs.getString(1), rs.getString(3),rs.getString(4),rs.getString(5),rs.getString(6),};
                dtm.addRow(facturaS);
            }
            
        } catch (SQLException ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        }
        
    }//GEN-LAST:event_tableOpMouseClicked

    private void btnVerActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnVerActionPerformed

        String d = cbxMes.getSelectedItem()+"";
        d +="/"+cbxDia.getSelectedItem();
        d +="/"+cbxYear.getSelectedItem();

        javax.swing.table.DefaultTableModel tb = (javax.swing.table.DefaultTableModel)tableOp.getModel();
        tableOp.setRowHeight(30);
        String q = "SELECT * FROM factura WHERE (Fecha =#"+d+"#);";
        System.out.println(q);
        java.sql.ResultSet rs = JDBC.crearResultado(st, q);
        try {
            while(rs.next()){
                GregorianCalendar h = new GregorianCalendar();
                h.setTime(rs.getDate(3));
                SimpleDateFormat f = new SimpleDateFormat("dd/MM/YYYY");
                String[] l ={rs.getString(1), f.format(h.getTime()),  rs.getString(2).substring(11), rs.getString(4), rs.getString(5)+" €"};
                tb.addRow(l);
            }
        } catch (SQLException ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        }
    }//GEN-LAST:event_btnVerActionPerformed

    private void btnExitActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnExitActionPerformed
       Factura.setVisible(false);
    }//GEN-LAST:event_btnExitActionPerformed

    public void crearFactura(){
        GregorianCalendar h = new GregorianCalendar();
        SimpleDateFormat fF = new SimpleDateFormat("dd/MM/YYYY");
        SimpleDateFormat fH = new SimpleDateFormat("HH:mm:ss");
        
        String q = "INSERT INTO Factura(hora, fecha, camarero, total) VALUES ('"+fH.format(h.getTime())+"', '"+fF.format(h.getTime())+"', "
                + "'"+cbxCamarero.getModel().getSelectedItem().toString()+"', '"+lblTotal.getText().substring(0, lblTotal.getText().length()-1)+"');";
        //System.out.println("INSERT INTO factura(fecha, camarero, total) VALUES ('"+lblHora.getText()+"', '"+cbxCamarero.getModel().getSelectedItem().toString()+"', '"+lblTotal.getText().substring(0, lblTotal.getText().length()-1)+"');");
        
        java.sql.Statement st = JDBC.crearSentencia(conexion);
        try {
            st.executeUpdate(q);
        } catch (SQLException ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
    
    public void crearOperacionesF(){
    String q = "SELECT c_factura FROM factura";
    java.sql.ResultSet rs = JDBC.crearResultado(st, q);
    
    int  ultimaFactura = 0;
        try {
            while(rs.next()){
                ultimaFactura = rs.getInt(1);
            }   } catch (SQLException ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        }
    //System.out.println(ultimaFactura);
    javax.swing.table.DefaultTableModel m = (DefaultTableModel)jTable1.getModel();
    for(int f = 0; f<m.getRowCount(); f++){ 
    q = "INSERT INTO Operacion (c_factura, producto, cantidad, precio_u, precio_t) VALUES (";
    q += "'"+ultimaFactura+"','"+m.getValueAt(f, 1) +"','"+m.getValueAt(f, 2) +"' ,'"+m.getValueAt(f, 3) +"','"+m.getValueAt(f, 4) +"' );  " ;
        System.out.println(q);
    java.sql.Statement st = JDBC.crearSentencia(conexion);
        try {
            st.executeUpdate(q);
        } catch (SQLException ex) {
            Logger.getLogger(Tpv.class.getName()).log(Level.SEVERE, null, ex);
        }
    }
     
    }
    
    public void borrarFilas(){
        DefaultTableModel m = (DefaultTableModel)jTable1.getModel();
        while(m.getRowCount()!=0){
            m.removeRow(0);
        }
    }
    
    public void eliCobrar (){
        if(lblTotal.getText().equals("0.0 €")){
            btnCobrar.setForeground(Color.red);
            btnCobrar.setText("Eliminar");
        }else{
            btnCobrar.setForeground(new java.awt.Color(0, 102, 0));
            btnCobrar.setText("Cobrar");
        }
    }
    
    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(Tpv.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(Tpv.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(Tpv.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(Tpv.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the form */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                new Tpv().setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JFrame Factura;
    private javax.swing.JFrame Opciones;
    private javax.swing.JFrame Operaciones;
    private javax.swing.JFrame Personal;
    private javax.swing.JButton btn0;
    private javax.swing.JButton btn1;
    private javax.swing.JButton btn2;
    private javax.swing.JButton btn3;
    private javax.swing.JButton btn4;
    private javax.swing.JButton btn5;
    private javax.swing.JButton btn6;
    private javax.swing.JButton btn7;
    private javax.swing.JButton btn8;
    private javax.swing.JButton btn9;
    private javax.swing.JButton btnAnt;
    private javax.swing.JButton btnCafes;
    private javax.swing.JButton btnCobrar;
    private javax.swing.JButton btnComa;
    private javax.swing.JButton btnEl;
    private javax.swing.JButton btnExit;
    private javax.swing.JButton btnLicores;
    private javax.swing.JButton btnMC;
    private javax.swing.JButton btnMP;
    private javax.swing.JButton btnMain;
    private javax.swing.JButton btnNCli;
    private javax.swing.JButton btnOpciones;
    private javax.swing.JButton btnOperaciones;
    private javax.swing.JButton btnPalante;
    private javax.swing.JButton btnPatras;
    private javax.swing.JButton btnPeliminar;
    private javax.swing.JButton btnPersonal;
    private javax.swing.JButton btnPlatos;
    private javax.swing.JButton btnPnuevo;
    private javax.swing.JButton btnPost;
    private javax.swing.JButton btnPostres;
    private javax.swing.JButton btnRefrescos;
    private javax.swing.JButton btnTapas;
    private javax.swing.JButton btnTicket;
    private javax.swing.JButton btnVer;
    private javax.swing.JComboBox cbxCamarero;
    private javax.swing.JComboBox cbxCargo;
    private javax.swing.JComboBox cbxDia;
    private javax.swing.JComboBox cbxMes;
    private javax.swing.JComboBox cbxYear;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPFondo;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JTable jTable1;
    private javax.swing.JLabel lblCam;
    private javax.swing.JLabel lblFac;
    private javax.swing.JLabel lblFecha;
    private javax.swing.JLabel lblHora;
    private javax.swing.JLabel lblNumP;
    private javax.swing.JLabel lblSTotal;
    private javax.swing.JLabel lblTot;
    private javax.swing.JLabel lblTotal;
    private javax.swing.JPanel panAlimentos;
    private javax.swing.JPanel panLista;
    private javax.swing.JPanel panMenu;
    private javax.swing.JPanel panSubAlimentos;
    private javax.swing.JTable tableOp;
    private javax.swing.JTable tbFact;
    private javax.swing.JTextField txfApellidos;
    private javax.swing.JTextField txfDNI;
    private javax.swing.JTextField txfNombre;
    // End of variables declaration//GEN-END:variables
    private java.sql.Statement st;
    private java.sql.ResultSet rs;
    private java.sql.Connection conexion;
    private int count = 0;
    private javax.swing.JButton[] btnSMnu;
    private Productos[] aProd;
    private javax.swing.Timer hora;
    private DefaultTableModel m;
    private ArrayList<javax.swing.table.DefaultTableModel> arrayModelos = new ArrayList();
    private int cantidad = 1;
    private boolean ultimoC;
    private boolean ultimoP;
    private boolean addM1P = true;
    private int cant;
    private String valor = "";
    private boolean cCero= false;
   

    private javax.swing.Timer tempMC;
    private int contMC;
    
    java.sql.ResultSet rsP;
    
    
}
